{"version":3,"sources":["webpack://devworkspace-client/webpack/universalModuleDefinition","webpack://devworkspace-client/webpack/bootstrap","webpack://devworkspace-client/./src/browser/che-api.ts","webpack://devworkspace-client/./src/browser/helper.ts","webpack://devworkspace-client/./src/browser/index.ts","webpack://devworkspace-client/./src/browser/template-api.ts","webpack://devworkspace-client/./src/browser/workspace-api.ts","webpack://devworkspace-client/./src/common/converter.ts","webpack://devworkspace-client/./src/common/helper.ts","webpack://devworkspace-client/./src/common/index.ts","webpack://devworkspace-client/./src/common/models.ts","webpack://devworkspace-client/./src/index.ts","webpack://devworkspace-client/./src/types.ts"],"names":[],"mappings":"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","file":"client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"devworkspace-client\"] = factory();\n\telse\n\t\troot[\"devworkspace-client\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { AxiosInstance } from 'axios';\nimport { delay } from '../common/helper';\nimport { projectApiGroup, projectRequestId, projectsId } from '../common';\nimport { projectRequestModel } from '../common/models';\nimport { isOpenShiftCluster } from './helper';\nimport { ICheApi } from '../types';\n\nexport class RestCheApi implements ICheApi {\n  private axios: AxiosInstance;\n  private projectInitRequestTimeoutMs = 10000;\n  private projectRequestDelayMs = 100;\n\n  constructor(axios: AxiosInstance) {\n    this.axios = axios;\n  }\n\n  set config(axios: AxiosInstance) {\n    this.axios = axios;\n  }\n\n  async initializeNamespace(namespace: string): Promise<void> {\n    const isOpenShift = await isOpenShiftCluster(this.axios);\n    if (isOpenShift) {\n      const doesProjectAlreadyExist = await this.doesProjectExist(namespace);\n      if (!doesProjectAlreadyExist) {\n        this.createProject(namespace);\n        await this.waitForProjectToBeReady(namespace);\n      }\n    }\n  }\n\n  private async doesProjectExist(projectName: string): Promise<boolean> {\n    try {\n      const projects = await this.axios.get(`/apis/${projectApiGroup}/v1/${projectsId}`);\n      for (const proj of projects.data.items) {\n        if (proj.metadata.name === projectName) {\n          return true;\n        }\n      }\n      return false;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  private createProject(namespace: string): void {\n    this.axios.post(`/apis/${projectApiGroup}/v1/${projectRequestId}`, projectRequestModel(namespace));\n  }\n\n  private async waitForProjectToBeReady(namespace: string): Promise<void> {\n    let millisecondsAttempted = 0;\n    let request = await this.doesProjectExist(namespace);\n    while (millisecondsAttempted < this.projectInitRequestTimeoutMs && !request) {\n      request = await this.doesProjectExist(namespace);\n      await delay(this.projectRequestDelayMs);\n      millisecondsAttempted += this.projectRequestDelayMs;\n    }\n    if (millisecondsAttempted >= this.projectInitRequestTimeoutMs) {\n      throw new Error(`Project ${namespace} could not be initialized in ${this.projectInitRequestTimeoutMs / 1000} seconds`);\n    }\n  }\n\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { AxiosError, AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';\nimport { IKubernetesGroupsModel } from '../types';\nimport { projectApiGroup } from '../common';\n\nexport async function isOpenShiftCluster(axios: AxiosInstance): Promise<boolean> {\n    return findApi(axios, projectApiGroup);\n}\n\nexport async function findApi(axios: AxiosInstance, apiName: string, version?: string): Promise<boolean> {\n    const resp = await axios.get('/apis');\n    const responseData = await resp.data.groups;\n    return responseData.filter((apiGroup: IKubernetesGroupsModel) => {\n        if (version) {\n            return apiGroup.name === apiName && apiGroup.versions.filter(versionGroup => versionGroup.version === version).length > 0;\n        }\n        return apiGroup.name === apiName;\n    }).length > 0;\n}\n\n\nexport interface IRequestConfig extends AxiosRequestConfig {\n}\n\nexport interface IResponse<T> extends AxiosResponse<T> {\n    data: T;\n    status: number;\n    statusText: string;\n    headers: any;\n    config: IRequestConfig;\n    request?: any;\n}\n\nexport interface IRequestError extends Error {\n    status?: number;\n    config: AxiosRequestConfig;\n    request?: any;\n    response?: IResponse<any>;\n}\n\nexport class BrowserRequestError implements IRequestError {\n\n    status: number | undefined;\n    name: string;\n    message: string;\n    config: AxiosRequestConfig;\n    request: any;\n    response: AxiosResponse | undefined;\n\n    constructor(error: AxiosError) {\n        if (error.code) {\n            this.status = Number(error.code);\n        }\n        this.name = error.name;\n        this.config = error.config;\n        if (error.request) {\n            this.request = error.request;\n        }\n        if (error.response) {\n            this.response = error.response;\n        }\n        if ((this.status === -1 || !this.status) && (!this.response  || (this.response && !this.response.status))) {\n            // request is interrupted, there is not even an error\n            this.message = `network issues occured while requesting \"${this.config.url}\".`;\n        } else if (this.response && this.response.data && this.response.data.message) {\n            // che Server error that should be self-descriptive\n            this.message = this.response.data.message;\n        } else {\n            // the error is not from Che Server, so error may be in html format that we're not able to handle.\n            // displaying just a error code and URL.\n\n            // sometimes status won't be defined, so when it's not look into the response status more info\n            let status = this.status;\n            if (!this.status && this.response && this.response.status) {\n                status = this.response.status;\n            // defer to the status code of the request if there is no response\n            } else if (!this.status && this.request && this.request.status) {\n                status = this.request.status;\n            }\n            this.message = `\"${status}\" returned by \"${this.config.url}\".\"`;\n        }\n    }\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { AxiosInstance } from 'axios';\nimport { devWorkspaceApiGroup, devworkspaceVersion } from '../common';\nimport {\n  ICheApi,\n  IDevWorkspaceApi,\n  IDevWorkspaceClientApi,\n  IDevWorkspaceTemplateApi,\n} from '../types';\nimport { findApi } from './helper';\nimport { RestDevWorkspaceTemplateApi } from './template-api';\nimport { RestCheApi } from './che-api';\nimport { RestDevWorkspaceApi } from './workspace-api';\n\nexport class RestApi implements IDevWorkspaceClientApi {\n  private _axios: AxiosInstance;\n  private _devworkspaceApi: IDevWorkspaceApi;\n  private _templateApi: IDevWorkspaceTemplateApi;\n  private _cheApi: ICheApi;\n  private apiEnabled: boolean | undefined;\n\n  constructor(axios: AxiosInstance) {\n    this._axios = axios;\n    this._devworkspaceApi = new RestDevWorkspaceApi(axios);\n    this._templateApi = new RestDevWorkspaceTemplateApi(axios);\n    this._cheApi = new RestCheApi(axios);\n  }\n\n  set config(axios: AxiosInstance) {\n    this._axios = axios;\n  }\n\n  get devworkspaceApi(): IDevWorkspaceApi {\n    return this._devworkspaceApi;\n  }\n\n  get templateApi(): IDevWorkspaceTemplateApi {\n    return this._templateApi;\n  }\n\n  get cheApi(): ICheApi {\n    return this._cheApi;\n  }\n\n  async isDevWorkspaceApiEnabled(): Promise<boolean> {\n    if (this.apiEnabled !== undefined) {\n      return Promise.resolve(this.apiEnabled);\n    }\n    this.apiEnabled = await findApi(this._axios, devWorkspaceApiGroup, devworkspaceVersion);\n    return this.apiEnabled;\n  }\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { AxiosInstance } from 'axios';\nimport { IDevWorkspaceTemplate, IDevWorkspaceTemplateApi } from '../types';\nimport { devworkspaceVersion, devWorkspaceApiGroup, devworkspaceTemplateSubresource } from '../common';\nimport { BrowserRequestError } from './helper';\n\nexport class RestDevWorkspaceTemplateApi implements IDevWorkspaceTemplateApi {\n  private _axios: AxiosInstance;\n\n  constructor(axios: AxiosInstance) {\n    this._axios = axios;\n  }\n\n  set config(axios: AxiosInstance) {\n    this._axios = axios;\n  };\n\n  async listInNamespace(namespace: string): Promise<IDevWorkspaceTemplate[]> {\n    try {\n      const resp = await this._axios.get(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspaceTemplateSubresource}`\n      );\n      return resp.data.items;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n\n  async getByName(\n    namespace: string,\n    name: string\n  ): Promise<IDevWorkspaceTemplate> {\n    try {\n      const resp = await this._axios.get(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspaceTemplateSubresource}/${name}`\n      );\n      return resp.data;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n\n  async create(\n    devworkspaceTemplate: IDevWorkspaceTemplate,\n  ): Promise<IDevWorkspaceTemplate> {\n    try {\n      const resp = await this._axios.post(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${devworkspaceTemplate.metadata.namespace}/${devworkspaceTemplateSubresource}`,\n        devworkspaceTemplate,\n        {\n          headers: {\n            'content-type': 'application/json; charset=utf-8',\n          },\n        }\n      );\n      return resp.data;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n\n  async delete(namespace: string, name: string): Promise<void> {\n    this._axios.delete(\n      `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspaceTemplateSubresource}/${name}`\n    );\n  }\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { AxiosInstance } from 'axios';\nimport { devfileToDevWorkspace } from '../common/converter';\nimport { IDevWorkspace, IDevWorkspaceDevfile, Patch } from '../types';\nimport { deletePolicy, deletionOptions } from '../common/models';\nimport { IDevWorkspaceApi } from '../index';\nimport { delay } from '../common/helper';\nimport { devworkspaceVersion, devWorkspaceApiGroup, devworkspacePluralSubresource } from '../common';\nimport { BrowserRequestError } from './helper';\n\nexport class RestDevWorkspaceApi implements IDevWorkspaceApi {\n  private _axios: AxiosInstance;\n\n  constructor(axios: AxiosInstance) {\n    this._axios = axios;\n  }\n\n  set config(axios: AxiosInstance) {\n    this._axios = axios;\n  };\n\n  async listInNamespace(namespace: string): Promise<IDevWorkspace[]> {\n    try {\n      const resp = await this._axios.get(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspacePluralSubresource}`\n      );\n      return resp.data.items;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n\n  async getByName(\n    namespace: string,\n    name: string\n  ): Promise<IDevWorkspace> {\n    try {\n      const resp = await this._axios.get(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspacePluralSubresource}/${name}`\n      );\n      return resp.data;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n\n  async create(\n    devfile: IDevWorkspaceDevfile,\n    routingClass: string,\n    started = true\n  ): Promise<IDevWorkspace> {\n    try {\n      const devworkspace = devfileToDevWorkspace(devfile, routingClass, started);\n      const stringifiedDevWorkspace = JSON.stringify(devworkspace);\n  \n      const resp = await this._axios.post(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${devfile.metadata.namespace}/${devworkspacePluralSubresource}`,\n        stringifiedDevWorkspace,\n        {\n          headers: {\n            'content-type': 'application/json; charset=utf-8',\n          },\n        }\n      );\n  \n      const responseData = await resp.data;\n      const namespace = responseData.metadata.namespace;\n      const name = responseData.metadata.name;\n  \n      // we need to wait until the devworkspace has a status property\n      let found;\n      let count = 0;\n      while (count < 5 && !found) {\n        const potentialWorkspace = await this.getByName(namespace, name);\n        if (potentialWorkspace?.status) {\n          found = potentialWorkspace;\n        } else {\n          count += 1;\n          delay();\n        }\n      }\n      if (!found) {\n        throw new Error(\n          `Was not able to find a devworkspace with name ${name} in namespace ${namespace}`\n        );\n      }\n      return found;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n\n  async update(devworkspace: IDevWorkspace): Promise<IDevWorkspace> {\n    try {\n      const name = devworkspace.metadata.name;\n      const namespace = devworkspace.metadata.namespace;\n      const resp = await this._axios.put(\n        `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspacePluralSubresource}/${name}`,\n        devworkspace,\n        {\n          headers: {\n            'content-type': 'application/json; charset=utf-8',\n          },\n        }\n      );\n      return resp.data;\n    } catch (e) {\n      return Promise.reject(new BrowserRequestError(e));\n    }\n  }\n  async delete(namespace: string, name: string): Promise<void> {\n    await this._axios.delete(\n      `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspacePluralSubresource}/${name}`, {\n        headers: {\n          'content-type': 'application/json; charset=utf-8',\n        },\n        data: deletionOptions(deletePolicy.Background)\n      }\n    );\n  }\n\n  /**\n   * Patch a devworkspace\n   * @param devworkspace The devworkspace you want to patch\n   */\n  async patch(namespace: string, name: string, patches: Patch[]): Promise<IDevWorkspace> {\n    return this.createPatch(namespace, name, patches);\n  }\n\n  async changeStatus(namespace: string, name: string, started: boolean): Promise<IDevWorkspace> {\n    return this.createPatch(namespace, name, [{\n      op: 'replace',\n      path: '/spec/started',\n      value: started\n    }]);\n  }\n\n  private async createPatch(\n    namespace: string,\n    name: string,\n    patches: Patch[]) {\n      try {    \n        const resp = await this._axios.patch(\n          `/apis/${devWorkspaceApiGroup}/${devworkspaceVersion}/namespaces/${namespace}/${devworkspacePluralSubresource}/${name}`,\n          patches,\n          {\n            headers: {\n              'Content-type': 'application/json-patch+json',\n            },\n          }\n        );\n        return resp.data;\n      } catch (e) {\n        return Promise.reject(new BrowserRequestError(e));\n      }\n  }\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { IDevWorkspace, IDevWorkspaceDevfile } from '../types';\nimport { devworkspaceVersion, devWorkspaceApiGroup } from '.';\n\nexport function devfileToDevWorkspace(devfile: IDevWorkspaceDevfile, routingClass: string, started: boolean): IDevWorkspace {\n    devfile.metadata.annotations = {};\n    const template = {\n        apiVersion: `${devWorkspaceApiGroup}/${devworkspaceVersion}`,\n        kind: 'DevWorkspace',\n        metadata: devfile.metadata,\n        spec: {\n            started,\n            routingClass,\n            template: {\n                components: []\n            }\n        }\n    } as unknown as IDevWorkspace;\n    if (devfile.projects) {\n        template.spec.template.projects = devfile.projects;\n    }\n    if (devfile.components) {\n        template.spec.template.components = devfile.components;\n    }\n    if (devfile.commands) {\n        template.spec.template.commands = devfile.commands;\n    }\n    if (devfile.events) {\n        template.spec.template.events = devfile.events;\n    }\n    return template;\n}\n\nexport function devWorkspaceToDevfile(devworkspace: IDevWorkspace): IDevWorkspaceDevfile {\n    const template = {\n        schemaVersion: '2.0.0',\n        metadata: {\n            name: devworkspace.metadata.name,\n            namespace: devworkspace.metadata.namespace\n        },\n    } as IDevWorkspaceDevfile;\n    if (devworkspace.spec.template.projects) {\n        template.projects = devworkspace.spec.template.projects;\n    }\n    if (devworkspace.spec.template.components) {\n        template.components = filterPluginComponents(devworkspace.spec.template.components);\n    }\n    if (devworkspace.spec.template.commands) {\n        template.commands = devworkspace.spec.template.commands;\n    }\n    if (devworkspace.spec.template.events) {\n        template.events = devworkspace.spec.template.events;\n    }\n    return template;\n}\n\n// Filter plugins from components\nfunction filterPluginComponents(components: any[]): any[] {\n    return components.filter(comp => !(\"plugin\" in comp));\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nexport const delay = (ms = 500) => {\n    return new Promise<void>(resolve => setTimeout(resolve, ms));\n};\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nexport const devworkspaceVersion = 'v1alpha2';\nexport const devworkspacePluralSubresource = 'devworkspaces';\nexport const devworkspaceSingularSubresource = 'devworkspace';\nexport const devworkspaceTemplateSubresource = 'devworkspacetemplates';\nexport const projectsId = 'projects';\nexport const projectRequestId = 'projectrequests';\n\nexport const projectApiGroup = 'project.openshift.io';\nexport const devWorkspaceApiGroup = 'workspace.devfile.io';\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport { projectApiGroup } from '.';\n\nexport const projectRequestModel = (namespace: string) => {\n  return {\n    apiVersion: `${projectApiGroup}/v1`,\n    kind: 'ProjectRequest',\n    metadata: {\n      name: namespace,\n    },\n  };\n};\n\nexport enum deletePolicy {\n  Background='Background',\n  Foreground='Foreground'\n}\n\nexport const deletionOptions = (policy: deletePolicy) => {\n  return {\n    apiVersion: 'v1',\n    kind: 'DeleteOptions',\n    propagationPolicy: policy\n  }\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nexport * from './common/converter';\nexport * from './common/index';\nexport * from './types';\nexport * from './browser/index';\n\n// We have to load these with require so that in the browser side module nothing fails when they aren't included in the webpack bundle\nconst client = require('./node/client').DevWorkspaceClient;\nconst container = require('./node/inversify.config').container;\nexport {\n    client as DevWorkspaceClient,\n    container\n}\n","/*\n * Copyright (c) 2018-2021 Red Hat, Inc.\n * This program and the accompanying materials are made\n * available under the terms of the Eclipse Public License 2.0\n * which is available at https://www.eclipse.org/legal/epl-2.0/\n *\n * SPDX-License-Identifier: EPL-2.0\n *\n * Contributors:\n *   Red Hat, Inc. - initial API and implementation\n */\n\nimport * as k8s from '@kubernetes/client-node';\nimport { AxiosInstance } from 'axios';\n\nexport interface IDevWorkspaceClient {\n    getNodeApi(config: INodeConfig): IDevWorkspaceClientApi;\n}\n\nexport interface IDevWorkspaceApi {\n    config: k8s.KubeConfig | AxiosInstance;\n    listInNamespace(namespace: string): Promise<IDevWorkspace[]>;\n    getByName(namespace: string, name: string): Promise<IDevWorkspace>;\n    create(\n        devfile: IDevWorkspaceDevfile,\n        routingClass: string,\n        started?: boolean,\n    ): Promise<IDevWorkspace>;\n    update(devworkspace: IDevWorkspace): Promise<IDevWorkspace>;\n    delete(namespace: string, name: string): Promise<void>;\n    patch(namespace: string, name: string, patches: Patch[]): Promise<IDevWorkspace>;\n    changeStatus(namespace: string, name: string, started: boolean): Promise<IDevWorkspace>;\n}\n\nexport interface IDevWorkspaceTemplateApi {\n    config: k8s.KubeConfig | AxiosInstance;\n    listInNamespace(namespace: string): Promise<IDevWorkspaceTemplate[]>;\n    getByName(namespace: string, name: string): Promise<IDevWorkspaceTemplate>;\n    delete(namespace: string, name: string): Promise<void>;\n    create(template: IDevWorkspaceTemplate): Promise<IDevWorkspaceTemplate>;\n}\n\nexport interface IDevWorkspaceClientApi {\n    config: k8s.KubeConfig | AxiosInstance;\n    devworkspaceApi: IDevWorkspaceApi;\n    templateApi: IDevWorkspaceTemplateApi;\n    cheApi: ICheApi;\n    isDevWorkspaceApiEnabled(): Promise<boolean>;\n}\n\nexport interface ICheApi {\n    config: k8s.KubeConfig | AxiosInstance;\n    initializeNamespace(namespace: string): Promise<void>;\n}\n\nexport interface IDevWorkspace {\n    apiVersion: string;\n    kind: string;\n    metadata: {\n        name: string;\n        namespace: string;\n        creationTimestamp?: string;\n        deletionTimestamp?: string;\n        uid?: string;\n        annotations?: any;\n    };\n    spec: IDevWorkspaceSpec,\n    status: {\n        mainUrl: string;\n        phase: string;\n        devworkspaceId: string;\n        message?: string;\n    };\n}\n\nexport interface IDevWorkspaceSpec {\n    started: boolean;\n    routingClass: string;\n    template: {\n        projects?: any;\n        components?: any[];\n        commands?: any;\n        events?: any;\n    }\n}\n\nexport interface IDevWorkspaceTemplate {\n    apiVersion: string;\n    kind: string;\n    metadata: {\n        name: string;\n        namespace: string;\n        ownerReferences: OwnerRefs[];\n    };\n    spec: IDevWorkspaceDevfile;\n}\n\nexport interface OwnerRefs {\n    apiVersion: string;\n    kind: string;\n    name: string;\n    uid: string;\n}\n\nexport interface IDevWorkspaceDevfile {\n    schemaVersion: string;\n    metadata: {\n        name: string;\n        namespace: string;\n        annotations?: {};\n    };\n    projects?: any;\n    components?: any;\n    commands?: any;\n    events?: any;\n}\n\nexport interface INodeConfig {\n    inCluster: boolean;\n}\n\nexport interface IKubernetesGroupsModel {\n    name: string;\n    versions: {\n        version: string;\n    }[];\n}\n\nexport interface Patch {\n    op: string;\n    path: string;\n    value?: any;\n}\n\nexport const INVERSIFY_TYPES = {\n    IDevWorkspaceClient: Symbol('IDevWorkspaceClient'),\n    INodeApiFactory: Symbol('Factory<NodeApi>'),\n    IDevWorkspaceNodeClientApi: Symbol('IDevWorkspaceNodeClientApi'),\n    IDevWorkspaceNodeTemplateApi: Symbol('IDevWorkspaceNodeTemplateApi'),\n    IDevWorkspaceNodeApi: Symbol('IDevWorkspaceNodeApi'),\n    IDevWorkspaceNodeCheApi: Symbol('IDevWorkspaceNodeCheApi')\n}\n"],"sourceRoot":""}